From: Wolfram Quester <wolfi@sigxcpu.org>
Date: Sat, 16 Apr 2011 12:44:47 +0200
Subject: Rebranding

---
 backend/kolab/kolab.php |    6 +++---
 backend/vcarddir.php    |    4 ++--
 index.php               |    6 +++---
 lib/core/zpush.php      |   10 +++++++---
 4 files changed, 15 insertions(+), 11 deletions(-)

diff --git a/backend/kolab/kolab.php b/backend/kolab/kolab.php
index 9d70726..9a7a2d4 100644
--- a/backend/kolab/kolab.php
+++ b/backend/kolab/kolab.php
@@ -1952,7 +1952,7 @@
             //add header
             $h["from"]=$this->_email;
             $h["to"]=$this->_email; 
-            $h["X-Mailer"]="z-push-Kolab Backend";
+            $h["X-Mailer"]="d-push-Kolab Backend";
             $h["subject"]= $object["uid"];
             $h["message-id"]= "<" . strtoupper(md5(uniqid(time()))) . ">";
             $h["date"]=date(DATE_RFC2822);
@@ -2249,7 +2249,7 @@
             //add header
             $h["from"]=$this->_email;
             $h["to"]=$this->_email; 
-            $h["X-Mailer"]="z-push-Kolab Backend";
+            $h["X-Mailer"]="d-push-Kolab Backend";
             $h["subject"]= $object["uid"];
             $h["message-id"]= "<" . strtoupper(md5(uniqid(time()))) . ">";
             $h["date"]=date(DATE_RFC2822);
@@ -2524,7 +2524,7 @@
             //add header
             $h["from"]=$this->_email;
             $h["to"]=$this->_email; 
-            $h["X-Mailer"]="z-push-Kolab Backend";
+            $h["X-Mailer"]="d-push-Kolab Backend";
             $h["subject"]= $object["uid"];
             $h["message-id"]= "<" . strtoupper(md5(uniqid(time()))) . ">";
             $h["date"]=date(DATE_RFC2822);
diff --git a/backend/vcarddir.php b/backend/vcarddir.php
index 4f06f4f..26f62bf 100644
--- a/backend/vcarddir.php
+++ b/backend/vcarddir.php
@@ -524,7 +524,7 @@ class BackendVCardDir extends BackendDiff {
             'jobtitle' => 'ROLE',
             'webpage' => 'URL',
         );
-        $data = "BEGIN:VCARD\nVERSION:2.1\nPRODID:Z-Push\n";
+        $data = "BEGIN:VCARD\nVERSION:2.1\nPRODID:d-push\n";
         foreach($mapping as $k => $v){
             $val = '';
             $ks = explode(';', $k);
@@ -670,4 +670,4 @@ class BackendVCardDir extends BackendDiff {
         return $data;
     }
 };
-?>
\ No newline at end of file
+?>
diff --git a/index.php b/index.php
index 0a904a2..4feacd3 100644
--- a/index.php
+++ b/index.php
@@ -139,7 +139,7 @@ include_once('version.php');
 
         // Check required GET parameters
         if(Request::IsMethodPOST() && (Request::GetCommandCode() === false || !Request::GetGETUser() || !Request::GetDeviceID() || !Request::GetDeviceType()))
-            throw new FatalException("Requested the Z-Push URL without the required GET parameters");
+            throw new FatalException("Requested the d-push URL without the required GET parameters");
 
         // Load the backend
         $backend = ZPush::GetBackend();
@@ -162,7 +162,7 @@ include_once('version.php');
 
         // Do the actual processing of the request
         if (Request::IsMethodGET())
-            throw new NoPostRequestException("This is the Z-Push location and can only be accessed by Microsoft ActiveSync-capable devices", NoPostRequestException::GET_REQUEST);
+            throw new NoPostRequestException("This is the d-push location and can only be accessed by Microsoft ActiveSync-capable devices", NoPostRequestException::GET_REQUEST);
 
         // Do the actual request
         header(ZPush::GetServerHeader());
@@ -277,4 +277,4 @@ include_once('version.php');
 
     // end gracefully
     ZLog::Write(LOGLEVEL_DEBUG, '-------- End');
-?>
\ No newline at end of file
+?>
diff --git a/lib/core/zpush.php b/lib/core/zpush.php
index c4a62d6..0c3233c 100644
--- a/lib/core/zpush.php
+++ b/lib/core/zpush.php
@@ -553,14 +553,18 @@ class ZPush {
         print <<<END
         <html>
         <header>
-        <title>Z-Push ActiveSync</title>
+        <title>d-push ActiveSync</title>
         </header>
         <body>
         <font face="verdana">
-        <h2>Z-Push - Open Source ActiveSync</h2>
+        <h2>d-push - Open Source ActiveSync</h2>
         <b>Version $zpush_version</b><br>
         $message $additionalMessage
         <br><br>
+	d-push is debians rebranding of z-push. The rebranding was done to avoid
+	possible trademark issues.<br>
+	Copyright (C) for z-push: Zarafa Deutschland GmbH <a href="http://www.zarafaserver.de/">http://www.zarafaserver.de/</a><br>
+
         More information about Z-Push can be found at:<br>
         <a href="http://z-push.sf.net/">Z-Push homepage</a><br>
         <a href="http://z-push.sf.net/download">Z-Push download page at BerliOS</a><br>
@@ -764,4 +768,4 @@ END;
     }
 
 }
-?>
\ No newline at end of file
+?>
